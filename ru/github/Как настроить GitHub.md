


|**Название**|**Вес**|
|</p><p>Как настроить GitHub[^1]</p>|1116|

В окружениях, использующих GitHub, вы можете настроить Rancher так, чтобы он разрешал вход с использованием учетных данных GitHub.

***Предварительные требования:** Прочтите раздел "Внешняя настройка аутентификации и пользователи-принципалы (principal user)".*

1. Войдите в Rancher, используя локального пользователя, которому назначена роль administrator, (т.е. локального принципала).
2. В левом верхнем углу нажмите **☰> Users & Authentication** (пользователи и аутентификация).
3. В левом навигационном меню выберите **Auth Provider** (поставщик аутентификации).
4. Нажмите **GitHub**.
5. Следуйте инструкциям на экране, чтобы настроить приложение GitHub. Rancher перенаправит вас на GitHub для завершения регистрации.

***Что такое Callback URL авторизации?***

*Callback URL авторизации — это URL-адрес, по которому пользователи переходят, чтобы начать использовать ваше приложение (т.е. экран-заставка).*

*Когда вы используете внешнюю аутентификацию, аутентификация фактически не выполняется в вашем приложении. Вместо этого аутентификация происходит внешним образом (в данном случае на GitHub). Callback URL авторизации — это место, в котором пользователь повторно входит в ваше приложение после успешного завершения этой внешней аутентификации.*

6. С GitHub скопируйте **Client ID** (идентификатор клиента) и **Client Secret** (секрет клиента). Вставьте их в Rancher.

***Где я могу найти Client ID и Client Secret?***

*На Github выберите Settings > Developer Settings > OAuth Apps. Client ID и Client Secret отображаются на видном месте.*

7. Нажмите **Authenticate with GitHub** (аутентификация с помощью GitHub).
8. Используйте параметры **Site Access** (доступ к сайту), чтобы настроить область авторизации пользователя.
- **Allow any valid Users** (позволить любым валидным пользователям)

*Любой* пользователь GitHub может получить доступ к Rancher. Как правило, мы не рекомендуем использовать этот параметр!

- **Allow members of Clusters, Projects, plus Authorized Users and Organizations** (разрешить участникам кластеров, проектов, а также авторизованным пользователям и организациям)

Любой пользователь или группа GitHub, добавленные в качестве **Cluster Member** (участника кластера) или **Project Member** (участник проекта), могут войти в Rancher. Кроме того, любой пользователь или группа GitHub, которых вы добавляете в список **Authorized Users and Organizations** (авторизованные пользователи и организации), может войти в Rancher.

- **Restrict access to only Authorized Users and Organizations** (ограничить доступ только авторизованным пользователям и организациям)

Войти в Rancher могут только те пользователи GitHub или группы, которые были добавлены в список **Authorized Users and Organizations** (авторизованных пользователей и организаций).

9. Нажмите **Enable** (включить).

**Результат:**

- Настроена аутентификация с помощью GitHub.
- Вы вошли в Rancher с помощью своей учетной записи GitHub (т.е. внешнего принципала).

[^1]:[Configuring GitHub](https://github.com/rancher/docs/blob/master/content/rancher/v2.6/en/admin-settings/authentication/github/_index.md)
