В этом разделе кратко изложена архитектура приложения ведения журнала Rancher.

Подробнее о том, как работает оператор Banzai Cloud Logging, смотрите в официальной документации. https://banzaicloud.com/docs/one-eye/logging-operator/#architecture

## Как работает оператор облачного ведения журнала Banzai
Оператор Logging автоматизирует развертывание и настройку конвейера ведения журналов Kubernetes. Он разворачивает и настраивает Fluent Bit DaemonSet на каждом узле для сбора журналов контейнеров и приложений из файловой системы узла.
Fluent Bit запрашивает API Kubernetes и пополняет журналы метаданными о модулях, а также передает как журналы, так и метаданные в **Fluentd**. Fluentd получает, фильтрует и передает журналы в несколько файлов **Outputs** (назначения, куда вы хотите отправлять сообщения журнала).
Следующие настраиваемые ресурсы используются для определения того, как журналы фильтруются и отправляются в их **Outputs**:
- **Flow**— это пользовательский ресурс с пространством имен, который использует фильтры и селекторы для маршрутизации сообщений журнала в соответствующий файл **Outputs**.
- **ClusterFlow** используется для маршрутизации сообщений журнала на уровне кластера.
- **Output**— это ресурс с пространством имен, который определяет, куда отправляются сообщения журнала.
- **ClusterOutput** определяет Output доступный из всех Flows и ClusterFlows.
Каждый Flow должен ссылаться на Output, и каждый ClusterFlow должен ссылаться на ClusterOutput.
На рисунке из документации Banzai (https://banzaicloud.com/docs/one-eye/logging-operator/#architecture) показана новая архитектура ведения журнала:
Как оператор Banzai Cloud Logging работает с Fluentd и Fluent Bit https://github.com/rancher/docs/blob/master/content/rancher/v2.6/en/logging/architecture/%7B%7B%3Cbaseurl%3E%7D%7D/img/rancher/banzai-cloud-logging-operator.png
