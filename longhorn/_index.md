**Longhorn** — это легкая, надежная и простая в использовании распределенная блочная система хранения данных для Kubernetes. https://longhorn.io/

**Longhorn** — это бесплатное программное обеспечение с открытым исходным кодом. Первоначально разработанный Rancher Labs, сейчас он разрабатывается как  изолированный проект из фонда облачных вычислений Native Computing Foundation. Его можно установить на любом кластере Kubernetes с помощью Helm, kubectl или пользовательского интерфейса Rancher. Вы можете узнать больше о его архитектуре [здесь.](https://longhorn.io/docs/1.3.2/concepts/)

С Longhorn вы можете:

- Использовать тома Longhorn в качестве постоянного хранилища для распределенных приложений с отслеживанием состояния в кластере Kubernetes.
-	Разделить свое блочное хранилище на тома Longhorn, чтобы вы могли использовать тома Kubernetes с облачным провайдером или без него.
-	Провести репликацию блочного хранилища на несколько узлов и центров обработки данных для повышения доступности
-	Хранить данные резервного копирования во внешнем хранилище, таком как NFS или AWS S3.
-	Создать межкластерные тома для аварийного восстановления, чтобы данные из основного кластера Kubernetes можно было быстро восстановить из резервной копии во втором кластере Kubernetes.
-	Запланировать повторяющиеся моментальные снимки тома и планировать повторяющиеся резервные копии в NFS или совместимом с S3 вторичном хранилище.
-	Восстановить тома из резервной копии
-	Обновить Longhorn, не нарушая работу постоянных томов

Панель управления Longhorn (pic)

# Установка Longhorn с Rancher

1.	Выполните все требования по установке. https://longhorn.io/docs/1.3.2/concepts/
2.	Перейдите в кластер, где вы хотите установить Longhorn.
3.	Щелкните **Приложения и рынок. (Apps & Marketplace)**
4.	Щелкните **Диаграммы. (Charts)**
5.	Нажмите **Longhorn.**
6.	*Необязательно: чтобы настроить начальные параметры, щелкните **Параметры Longhorn по умолчанию** и отредактируйте конфигурацию. Для получения справки по настройке параметров обратитесь к документации Longhorn. https://longhorn.io/docs/1.3.2/references/settings/*
7.	Щелкните **Установить.**

**Результат:** Longhorn развернут в кластере Kubernetes.

# Доступ к Longhorn из пользовательского интерфейса Rancher

1.	Перейдите в кластер, где установлен Longhorn. В левом меню навигации щелкните **Longhorn.**
2.	На этой странице вы можете редактировать ресурсы Kubernetes, управляемые Longhorn. Чтобы просмотреть пользовательский интерфейс Longhorn, нажмите кнопку **Longhorn** в разделе **«Обзор» (Overview).**

**Результат:** вы попадете в пользовательский интерфейс Longhorn, где сможете управлять своими томами Longhorn и их репликами в кластере Kubernetes, а также вторичными резервными копиями вашего хранилища Longhorn, которые могут существовать в другом кластере Kubernetes или в S3.

# Удаление Longhorn из пользовательского интерфейса Rancher

1.	Перейдите в кластер, где установлен Longhorn, и щелкните **Приложения и рынок. (Apps & Marketplace)**
2.	Щелкните **Установленные приложения (Installed Apps).**
3.	Перейдите в пространство имен longhorn-system пространство имен и установите флажки рядом с приложениями longhorn и longhorn-crd.
4.	Щелкните **Удалить(Delete)** и подтвердите **Удалить .**

**Результат:** Longhorn удален.

# Хранилище GitHub

Проект Longhorn доступен [здесь.](https://github.com/longhorn/longhorn)

# Документация

Документация Longhorn находится [здесь.](https://longhorn.io/docs/)

# Архитектура

Longhorn создает выделенный контроллер хранилища для каждого тома и синхронно реплицирует том на несколько копий, хранящихся на нескольких узлах.

Контроллер хранилища и реплики сами управляются с помощью Kubernetes.

Вы можете узнать больше о его архитектуре [здесь.](https://longhorn.io/docs/1.3.2/concepts/)

Архитектура Longhorn (pic)
